{"version":3,"file":"commonHelpers.js","sources":["../src/js/pixabay-api.js","../src/js/render-functions.js","../src/main.js"],"sourcesContent":["export default function searchImage(query) {\n  const apiKey = '45177339-1086f924218083686626b70b0';\n  const pixabayUrl = 'https://pixabay.com/api/';\n  const url = `${pixabayUrl}?key=${apiKey}&q=${query}&image_type=photo&orientation=horizontal&safesearch=true;`;\n\n  return fetch(url)\n    .then(response => {\n      if (!response.ok) {\n        throw new Error(response.status);\n      }\n\n      return response.json();\n    })\n\n    .catch(error => {\n      iziToast.error({\n        position: 'topRight',\n        message: `${error}`,\n      });\n    });\n}\n","import SimpleLightbox from 'simplelightbox';\n\nimport 'simplelightbox/dist/simple-lightbox.min.css';\nexport default function createGallery(data) {\n  let galleryList = document.querySelector('.search-results');\n  let gallery = new SimpleLightbox('.search-results a');\n  let images = data.hits\n    .map(\n      hit =>\n        `<div class=\"image-holder\">\n          <a href=\"${hit.largeImageURL}\">\n            <img class=\"image\" src=\"${hit.webformatURL}\" alt=\"${hit.tags}\">\n          </a>\n          <ul class=\"attributes-list\">\n            \n            <li class=\"text-wrapper\">\n              <h4 class=\"image-likes\">Likes</h4>\n              <p class=\"image-number\">${hit.likes}</p>\n            </li>\n            <li class=\"text-wrapper\">\n              <h4 class=\"image-views\">Views</h4>\n              <p class=\"image-number\">${hit.views}</p>\n            </li>\n            <li class=\"text-wrapper\">\n              <h4 class=\"image-comments\">Comments</h4>\n              <p class=\"image-number\">${hit.comments}</p>\n            </li>\n            <li class=\"text-wrapper\">\n              <h4 class=\"image-downloads\">Downloads</h4>\n              <p class=\"image-number\">${hit.downloads}</p>\n            </li>\n            \n          </ul>\n        </div>`\n    )\n    .join('');\n\n  galleryList.insertAdjacentHTML('afterbegin', images);\n  gallery.refresh();\n  console.log('success');\n}\nexport function clearGallery() {\n  let galleryList = document.querySelector('.search-results');\n  galleryList.innerHTML = '';\n}\n","import searchImage from './js/pixabay-api';\n\nimport iziToast from 'izitoast';\n\nimport 'izitoast/dist/css/iziToast.min.css';\nimport createGallery from './js/render-functions';\nimport { clearGallery } from './js/render-functions';\nconst button = document.querySelector('.submit-button');\nconst inputLine = document.querySelector('.search-input');\nconst inputForm = document.querySelector('.input-form');\nconst inputLoader = document.querySelector('.loader');\ninputForm.addEventListener('submit', implementSubmit);\n\nfunction implementSubmit(event) {\n  clearGallery();\n  event.preventDefault();\n  inputLoader.classList.remove('hidden');\n  let queryWord = inputLine.value.trim();\n  searchImage(`${queryWord}`)\n    .then(data => {\n      if (queryWord === '') {\n        iziToast.error({\n          position: 'topRight',\n          message: 'Please fill the input',\n        });\n        inputLoader.classList.add('hidden');\n        return;\n      } else if (data.total == 0) {\n        iziToast.error({\n          position: 'topRight',\n          message:\n            'Sorry, there are no images matching your search query. Please try again!',\n        });\n        inputLoader.classList.add('hidden');\n        return;\n      } else createGallery(data);\n      inputLoader.classList.add('hidden');\n    })\n    .catch(error => {\n      iziToast.error({\n        position: 'topRight',\n        message: `${error}`,\n      });\n    });\n}\n"],"names":["searchImage","query","url","response","error","createGallery","data","galleryList","gallery","SimpleLightbox","images","hit","clearGallery","inputLine","inputForm","inputLoader","implementSubmit","event","queryWord","iziToast"],"mappings":"6vBAAe,SAASA,EAAYC,EAAO,CAGzC,MAAMC,EAAM,qEAAiCD,CAAK,4DAElD,OAAO,MAAMC,CAAG,EACb,KAAKC,GAAY,CAChB,GAAI,CAACA,EAAS,GACZ,MAAM,IAAI,MAAMA,EAAS,MAAM,EAGjC,OAAOA,EAAS,MACtB,CAAK,EAEA,MAAMC,GAAS,CACd,SAAS,MAAM,CACb,SAAU,WACV,QAAS,GAAGA,CAAK,EACzB,CAAO,CACP,CAAK,CACL,CCjBe,SAASC,EAAcC,EAAM,CAC1C,IAAIC,EAAc,SAAS,cAAc,iBAAiB,EACtDC,EAAU,IAAIC,EAAe,mBAAmB,EAChDC,EAASJ,EAAK,KACf,IACCK,GACE;AAAA,qBACaA,EAAI,aAAa;AAAA,sCACAA,EAAI,YAAY,UAAUA,EAAI,IAAI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,wCAMhCA,EAAI,KAAK;AAAA;AAAA;AAAA;AAAA,wCAITA,EAAI,KAAK;AAAA;AAAA;AAAA;AAAA,wCAITA,EAAI,QAAQ;AAAA;AAAA;AAAA;AAAA,wCAIZA,EAAI,SAAS;AAAA;AAAA;AAAA;AAAA,eAKhD,EACA,KAAK,EAAE,EAEVJ,EAAY,mBAAmB,aAAcG,CAAM,EACnDF,EAAQ,QAAO,EACf,QAAQ,IAAI,SAAS,CACvB,CACO,SAASI,GAAe,CAC7B,IAAIL,EAAc,SAAS,cAAc,iBAAiB,EAC1DA,EAAY,UAAY,EAC1B,CCrCe,SAAS,cAAc,gBAAgB,EACtD,MAAMM,EAAY,SAAS,cAAc,eAAe,EAClDC,EAAY,SAAS,cAAc,aAAa,EAChDC,EAAc,SAAS,cAAc,SAAS,EACpDD,EAAU,iBAAiB,SAAUE,CAAe,EAEpD,SAASA,EAAgBC,EAAO,CAC9BL,IACAK,EAAM,eAAc,EACpBF,EAAY,UAAU,OAAO,QAAQ,EACrC,IAAIG,EAAYL,EAAU,MAAM,KAAI,EACpCb,EAAY,GAAGkB,CAAS,EAAE,EACvB,KAAKZ,GAAQ,CACZ,GAAIY,IAAc,GAAI,CACpBC,EAAS,MAAM,CACb,SAAU,WACV,QAAS,uBACnB,CAAS,EACDJ,EAAY,UAAU,IAAI,QAAQ,EAClC,MACR,SAAiBT,EAAK,OAAS,EAAG,CAC1Ba,EAAS,MAAM,CACb,SAAU,WACV,QACE,0EACZ,CAAS,EACDJ,EAAY,UAAU,IAAI,QAAQ,EAClC,MACR,MAAaV,EAAcC,CAAI,EACzBS,EAAY,UAAU,IAAI,QAAQ,CACxC,CAAK,EACA,MAAMX,GAAS,CACde,EAAS,MAAM,CACb,SAAU,WACV,QAAS,GAAGf,CAAK,EACzB,CAAO,CACP,CAAK,CACL"}